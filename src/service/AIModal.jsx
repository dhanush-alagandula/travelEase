import { GoogleGenerativeAI } from "@google/generative-ai";
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image URL, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a budget-friendly Las Vegas itinerary for a couple, formatted as JSON, along with hotel options and details.  This focuses on free or inexpensive activities, utilizing free transportation where possible, and affordable dining choices.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway - 3 Days for Couples\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"location\": \"Las Vegas, NV\",\n  \"dates\": \"Flexible - Adjust based on best flight/hotel deals\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $70/night (Varies widely based on season)\",\n      \"hotelImageURL\": \"https://www.casino.org/wp-content/uploads/2021/11/circus-circus-las-vegas-entrance.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1276,\n        \"longitude\": -115.1654\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel, known for its affordability and family-friendly atmosphere. Features the Adventuredome Theme Park (extra cost) and free circus acts.\",\n        \"amenities\": [\"Free parking\", \"Pool\", \"Casino\", \"Restaurants\", \"Free Circus Acts\", \"Adventuredome Theme Park(paid)\"]\n\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$40 - $80/night (Varies widely)\",\n      \"hotelImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/b0/1a/25/the-strat-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1472,\n        \"longitude\": -115.1556\n      },\n      \"rating\": 3.5,\n      \"description\": \"Offers rooms with great views, especially from the tower (extra cost to access the observation deck/rides). Located further north on the Strip, potentially requiring more walking or bus rides.\",\n       \"amenities\": [\"Pool\", \"Casino\", \"Restaurants\", \"Tower with Rides and Observation Deck(paid)\", \"Free Parking\"]\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75/night (Varies widely)\",\n      \"hotelImageURL\": \"https://www.casino.org/wp-content/uploads/2021/11/excalibur-hotel-and-casino-las-vegas.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1743\n      },\n      \"rating\": 4.0,\n      \"description\": \"A themed hotel that is very cheap. It is close to the main strip and you can walk around and explore.\",\n       \"amenities\": [\"Pool\", \"Casino\", \"Restaurants\", \"Themed Hotel\", \"Free Parking\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"South Strip Exploration & Free Shows\",\n      \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic photo opportunity.  Lines can be long, so be patient or go early/late.\",\n          \"placeImageURL\": \"https://www.lasvegasadvisor.com/wp-content/uploads/2023/05/lv-sign-2023.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"15-30 minutes (depending on transportation and lines)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning free floral displays that change seasonally. A must-see.\",\n          \"placeImageURL\": \"https://www.vegas.com/wp/wp-content/uploads/2023/05/bellagio-conservatory-450x300.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"timeTravel\": \"Walking (from previous location or Bellagio parking)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountain Show\",\n          \"placeDetails\": \"Spectacular water show synchronized to music. Runs every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageURL\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_640,q_75,w_640/v1/clients/lasvegas/Bellagio_Fountains_Night_Credit_Las_Vegas_News_Bureau_b1434461-d73d-4e32-8d03-55e819f251b7.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"timeTravel\": \"Immediately after Conservatory (same location)\"\n        },\n       {\n          \"placeName\": \"Walk the Strip & People Watching\",\n          \"placeDetails\": \"Simply stroll along the Strip, taking in the sights and sounds. Explore the themed hotels (e.g., Venetian, Paris, New York-New York).\",\n          \"placeImageURL\": \"https://www.fodors.com/wp-content/uploads/2023/02/ThingsToDoOnTheLasVegasStrip__HERO_shutterstock_1494482723.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"Variable - however long you want!\"\n        },\n                {\n          \"placeName\": \"Free Shows at Fremont Street Experience\",\n          \"placeDetails\": \"Downtown Las Vegas. Viva Vision light shows on the canopy. Check schedule online for times.\",\n          \"placeImageURL\": \"https://fremontstreetexperience.com/wp-content/uploads/2021/07/FSE_Homepage-Hero_Desktop_072621.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1428\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"Transportation from the Strip (bus or ride-sharing). Plan for at least 30-45 minutes travel time.\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown & Cultural Exploration\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience (Daytime)\",\n          \"placeDetails\": \"Explore during the day to see the street performers, shops, and enjoy the atmosphere without the crowds of the evening.\",\n          \"placeImageURL\": \"https://www.casino.org/news/wp-content/uploads/2023/02/fremont-street-experience-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1428\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"Transportation from the Strip (bus or ride-sharing). Plan for at least 30-45 minutes travel time.\"\n        },\n        {\n          \"placeName\": \"Gold & Silver Pawn Shop (Pawn Stars)\",\n          \"placeDetails\": \"Famous from the TV show.  Often crowded.  Don't expect to see the stars of the show on a regular basis.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Gold_and_Silver_Pawn_Shop.jpg/640px-Gold_and_Silver_Pawn_Shop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1642,\n            \"longitude\": -115.1542\n          },\n          \"ticketPricing\": \"Free (unless you buy something!)\",\n          \"rating\": 3.5,\n          \"timeTravel\": \"Short ride/drive from Fremont Street.\"\n        },\n        {\n          \"placeName\": \"Arts District\",\n          \"placeDetails\": \"Explore the murals, galleries, and unique shops in this vibrant area.  Often hosts events and festivals.\",\n          \"placeImageURL\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fit,h_640,q_75,w_640/v1/clients/lasvegas/Arts_District_Credit_Cashman_Photo_Enterprises_e6dd63e1-1801-4264-bc5e-3f2e1a873ef8.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1558,\n            \"longitude\": -115.1508\n          },\n          \"ticketPricing\": \"Free (unless you purchase art or attend a paid event)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"Walking distance from the Pawn Shop or a short ride.\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area built from shipping containers.  Features a playground and often has live music.\",\n          \"placeImageURL\": \"https://vegasexperience.com/wp-content/uploads/2019/11/container-park-lv-730x411.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1696,\n            \"longitude\": -115.1406\n          },\n          \"ticketPricing\": \"Free (unless you shop/dine)\",\n          \"rating\": 4"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image URL, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway - 3 Days for Couples\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"location\": \"Las Vegas, NV\",\n  \"dates\": \"Flexible - Adjust based on best flight/hotel deals\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50-$100/night (approx., varies seasonally)\",\n      \"hotelImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/CircusCircusLasVegas.jpg/1280px-CircusCircusLasVegas.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1276,\n        \"longitude\": -115.1654\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel known for its affordability and family-friendly atmosphere. Features the Adventuredome (extra cost) and free circus acts.\",\n      \"amenities\": [\"Free parking\", \"Pool\", \"Casino\", \"Restaurants\", \"Free Circus Acts\"]\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$90/night (approx., varies seasonally)\",\n      \"hotelImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Excalibur_Hotel_Casino_Las_Vegas.jpg/1280px-Excalibur_Hotel_Casino_Las_Vegas.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1743\n      },\n      \"rating\": 3.0,\n      \"description\": \"A themed hotel offering budget-friendly options.  Convenient location on the Strip.\",\n      \"amenities\": [\"Pool\", \"Casino\", \"Restaurants\", \"Free Parking (sometimes)\"]\n    },\n    {\n      \"hotelName\": \"Motel 6 Las Vegas Strip\",\n      \"hotelAddress\": \"Several locations near the Strip - check booking sites\",\n      \"price\": \"$30-$60/night (approx., varies greatly by location and season)\",\n      \"hotelImageURL\": \"https://www.motel6.com/content/dam/motel6/images/hotels/nv/las-vegas-strip/motel6-las-vegas-strip-exterior.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": \"Check specific location on booking site\", \n        \"longitude\": \"Check specific location on booking site\"\n      },\n      \"rating\": 2.5,\n      \"description\": \"Basic but clean accommodation.  A good option if you plan to spend most of your time out and about.\",\n      \"amenities\": [\"Pool (some locations)\", \"Free Parking (usually)\"]\n    }\n\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Iconic Vegas & Free Entertainment\",\n      \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Iconic photo op.  Go early or late to avoid crowds.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Welcome_to_Fabulous_Las_Vegas_Nevada_sign.jpg/1280px-Welcome_to_Fabulous_Las_Vegas_Nevada_sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"30 minutes\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"Stunning free floral displays (seasonal themes).\",\n          \"placeImageURL\": \"https://www.bellagio.com/content/dam/bellagio/images/conservatory/conservatory-botanical-gardens-hero-desktop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"30-45 minutes\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Free water show with music and lights.\",\n          \"placeImageURL\": \"https://www.bellagio.com/content/dam/bellagio/images/fountains/fountains-hero-desktop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"timeTravel\": \"30 minutes (multiple shows)\"\n        },\n        {\n          \"placeName\": \"Free Strip Walking Tour\",\n          \"placeDetails\": \"Explore the Strip, people-watch, and admire the architecture of the various casinos.\",\n          \"placeImageURL\": \"https://www.tripsavvy.com/thmb/oX9kK92R7v6R3L6g-z2a9k3zW9Q=/1500x1000/smart/filters:no_upscale()/las-vegas-strip-at-night-5c02477f46e0fb0001165071.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"2-3 hours (flexible)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Late Afternoon/Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Downtown Las Vegas. Viva Vision light shows (check schedule), street performers, and casinos.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Fremont_Street_Experience_at_night.jpg/1280px-Fremont_Street_Experience_at_night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1428\n          },\n          \"ticketPricing\": \"Free (light shows are free)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1-2 hours (consider travel time from Strip)\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shops and restaurants in repurposed shipping containers.\",\n          \"placeImageURL\": \"https://cdn.vox-cdn.com/thumbor/o1Zt_pK00c4jC2X4p-yJ8B7v-hI=/0x0:5000x3333/1200x800/filters:focal(2100x1167:2900x1967)/cdn.vox-cdn.com/uploads/chorus_image/image/66003421/Container_Park_Las_Vegas.0.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1696,\n            \"longitude\": -115.1406\n          },\n          \"ticketPricing\": \"Free (unless you shop/dine)\",\n          \"rating\": 3.5,\n          \"timeTravel\": \"30-45 minutes\"\n        },\n        {\n          \"placeName\": \"Arts District\",\n          \"placeDetails\": \"Explore murals, galleries, and unique shops (check for events).\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Arts_District_Las_Vegas.jpg/1280px-Arts_District_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1558,\n            \"longitude\": -115.1508\n          },\n          \"ticketPricing\": \"Free (unless you purchase art)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1-2 hours\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Relaxation & Affordable Dining\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"Pool Time at Hotel\",\n          \"placeDetails\": \"Relax by the pool, soak up the sun, and enjoy a cheap lunch from a local deli or grocery store\",\n          \"placeImageURL\": \"https://example.com/pool.jpg\",  // Replace with an image of a hotel pool\n          \"geoCoordinates\": {\n            \"latitude\": \"Your Hotel's Coordinates\",\n            \"longitude\": \"Your Hotel's Coordinates\"\n          },\n          \"ticketPricing\": \"Free (if at your hotel)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"In-N-Out Burger\",\n          \"placeDetails\": \"A cheap and tasty West Coast fast-food option.\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/In-N-Out_Burger_logo.svg/1280px-In-N-Out_Burger_logo.svg.png\",\n          \"geoCoordinates\": {\n            \"latitude\": \"Check location on Google Maps\",\n            \"longitude\": \"Check location on Google Maps\"\n          },\n          \"ticketPricing\": \"$10-$15 (per person)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"30 minutes\"\n        },\n        {\n          \"placeName\": \"Explore Local Grocery Stores\",\n          \"placeDetails\": \"Grab affordable snacks and drinks for your flight home.\",\n          \"placeImageURL\": \"https://example.com/grocerystore.jpg\", // Replace with grocery store image\n          \"geoCoordinates\": {\n            \"latitude\": \"Check location on Google Maps\",\n            \"longitude\": \"Check location on Google Maps\"\n          },\n          \"ticketPricing\": \"Variable\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"30 minutes\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Remember to:**\n\n* **Check prices and availability** on hotel booking sites (e.g., Booking.com, Expedia) and for transportation (consider using the RTC bus system for cheaper travel).\n* **Look for deals and coupons:** Many Las Vegas attractions and restaurants offer discounts.\n* **Pack light:** Avoid checked baggage fees.\n* **Walk whenever possible:** This is a great way to explore the Strip and save on transportation.\n* **Drink water:**  Las Vegas is a desert climate; staying hydrated is essential.\n\n\nThis JSON provides a framework. You'll need to replace placeholder image URLs and coordinates with accurate information from your chosen hotel and attractions.  Also, adjust the itinerary based on your preferences and the specific deals you find.  Enjoy your trip!\n"},
          ],
        },
      ],
    });
  
   
  
  
